<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>AEP user guide</title>
<style type="text/css">
<!--
.Stile3 {font-size: 18px}
.Stile4 {font-size: 22px}
-->
</style>
</head>

<body>
<p class="Stile3"><span class="Stile4"><strong>AEP SOFTWARE</strong> user guide, last update 05/05/09<br />
version 1.0, © 2009 Philipp Arbenz, Paul Embrechts and Giovanni Puccetti</span></p>
<p class="Stile3"><strong>Introduction</strong><br />
AEP is a free package developed to calculate the distribution function and the Value-at-Risk of the sum <em>X1+...+Xd</em> of <em>d</em> positive random variables, when the joint distribution <em>H</em> of the vector <em>(X1,...,Xd)</em> is given. For any detail on the theory underlying AEP we refer to the  paper</p>
<p class="Stile3"><a href="d">P. Arbenz, P. Embrechts and G. Puccetti (2009): <em>The AEP algorithm for the fast computation of the distribution of the sum of dependent random variables</em>, preprint ETH Zurich</a>.</p>
<p class="Stile3">The AEP package contains two softwares: <strong>AEP-Df</strong> evaluates the distribution function <em>F(s)=P[X1+...+Xd &lt;=s]</em> at a certain threshold <em>s</em>, while <strong>AEP-VaR</strong> evaluates the quantile (or Value-at-Risk) function <em>F^(-1)(alpha)</em> at a certain level <em>alpha</em>. Both programs  accept as input the multivariate joint distribution <em>H</em> of the vector <em>(X1,..,Xd)</em>. <em>H</em> has to be provided in terms of the marginal distributions <em>Fi,i=1,..d</em> and copula <em>C</em> of the vector vector <em>(X1,..,Xd)</em>, i.e. <em>H=C(F1,...,Fd)</em>.  For any details on the theory of copulas, we refer to: <a href="d">Nelsen,R.B.(2006)<em>, An Introduction to Copulas. </em>Springer, New York. Second. ed.</a></p>
<p class="Stile3"><strong>Inputs</strong></p>
<p class="Stile3">Both softwares will require:</p>
<p class="Stile3">1) The number <em>d</em> of the random variables in the sum <em>X1+...+Xd</em>. It is possible to choose <em>d=2,3,4,5</em>.</p>
<p class="Stile3">2) The marginal distribution <em>Fi</em> of each of the <em>d</em> random variables (different marginals can be chosen from different families). Possible choices for the softwares are:</p>
<table width="722" border="1">
  <tr>
    <td width="55"><div align="center">Symbol</div></td>
    <td width="133"><div align="center">Distribution</div></td>
    <td width="121"><div align="center">Parameters</div></td>
    <td width="385"><div align="left">Marginal distribution<em> Fi(x)=P[Xi&lt;=x]</em></div></td>
  </tr>
  <tr>
    <td><div align="center">p</div></td>
    <td><div align="center">Pareto</div></td>
    <td><div align="center"><em>a&gt;0,b&gt;0</em></div></td>
    <td><div align="left"><em>1-(1+x/b)^(-a), x&gt;0</em></div></td>
  </tr>
  <tr>
    <td><div align="center">l</div></td>
    <td><div align="center">Log-Normal</div></td>
    <td><div align="center"><em>mu&gt;0,σ&gt;0</em></div></td>
    <td><div align="left"><em>(2pi σ^2 x^2)^(-1/2) exp(ln(x)-mu)^2/sigma), x&gt;0 (density)</em></div></td>
  </tr>
  <tr>
    <td><div align="center">u</div></td>
    <td><div align="center">Uniform (0,1)</div></td>
    <td><div align="center"><em>-</em></div></td>
    <td><div align="left"><em>max(x,0)-max(x-1,0), x in (0,1)</em></div></td>
  </tr>
  <tr>
    <td><div align="center">e</div></td>
    <td><div align="center">Exponential</div></td>
    <td><div align="center"><em>λ&gt;0</em></div></td>
    <td><div align="left"><em>1-exp(-λx), x&gt;0</em></div></td>
  </tr>
  <tr>
    <td><div align="center">f</div></td>
    <td><div align="center">Frechét</div></td>
    <td><div align="center"><em>a&gt;0,b&gt;0</em></div></td>
    <td><div align="left"><em>exp(-(x/b)^(-a)),x&gt;0</em></div></td>
  </tr>
</table>
<p class="Stile3">3) The multivariate copula <em>C</em> of the vector <em>(X1,...,Xd)</em>. Only so-called Archimedean copulas and reversed Archimedean copulas are possible choices for the softwares. An Archimedean copula C has the form <em>C(u1,...,ud)=ψ(ψ^(-1)(u1)+...+ψ^(-1)(ud))</em>. Given an archimedean copula<em> C</em>, the corresponding reversed archimedean copula is <em>C(u1,...,ud)=C((1-u1),...,(1-ud))</em>. All these copulas are given in terms of their generator ψ. </p>
<table width="861" border="1">
  <tr>
    <td width="77"><div align="center">Symbol for the copula</div></td>
    <td width="111"><div align="center">Symbol for the reversed copula</div></td>
    <td width="133"><div align="center">Copula</div></td>
    <td width="121"><div align="center">Parameters</div></td>
    <td width="385"><div align="left">Generator <em>ψ(t)</em></div></td>
  </tr>
  <tr>
    <td><div align="center">i</div></td>
    <td><div align="center">i</div></td>
    <td><div align="center">Independence</div></td>
    <td><div align="center">-</div></td>
    <td>-ln(t)</td>
  </tr>
  <tr>
    <td><div align="center">c</div></td>
    <td><div align="center">q</div></td>
    <td><div align="center">Clayton</div></td>
    <td><div align="center">θ&gt;0</div></td>
    <td>(1+t)^(-1/θ)</td>
  </tr>
  <tr>
    <td><div align="center">g</div></td>
    <td><div align="center">w</div></td>
    <td><div align="center">Gumbel</div></td>
    <td><div align="center">θ&gt;=1</div></td>
    <td>exp(-t^(1/θ))</td>
  </tr>
  <tr>
    <td><div align="center">f</div></td>
    <td><div align="center">e</div></td>
    <td><div align="center">Frank</div></td>
    <td><div align="center">θ&gt;0</div></td>
    <td>-ln(exp(-t)(exp(-θ)-1)+1)/θ</td>
  </tr>
  <tr>
    <td><div align="center">j</div></td>
    <td><div align="center">r</div></td>
    <td><div align="center">Joe</div></td>
    <td><div align="center">θ&gt;=1</div></td>
    <td>1-(1-exp(-t))^(1/θ)</td>
  </tr>
  <tr>
    <td><div align="center">a</div></td>
    <td><div align="center">t</div></td>
    <td><div align="center">Ali-Mikhail-Haq</div></td>
    <td><div align="center">θ in [0,1]</div></td>
    <td>(1-θ)/(exp(t)-θ)</td>
  </tr>
</table>
<p class="Stile3">4) The threshold <em>s&gt;0</em> (only for AEP-Df) or, respectively, the level <em>alpha in (0,1)</em> (only for AEP-VaR) at which to compute the distribution function <em>P[X1+...+Xd &lt;=s]</em> or, respectively, the quantile  function <em>F^(-1)(alpha)</em>.</p>
<p class="Stile3">5) The number of cycles <em>n</em> of the algorithm. Increasing <em>n</em> will increase the precision of the final estimate as well as the memory and the computationl time needed to obtain it. We  suggest  to use the  following numbers: n=12 (d=2), n=9 (d=3), n=5 (d=4), n=4 (d=5); see Fig. 5 in the paper. Note that choosing  a larger <em>n</em> gives extra precision but it could exhaust the memory of your computer.</p>
<p class="Stile3"><strong>Outputs</strong></p>
<p class="Stile3">The software will give n estimates (one for each cycle of the algorithm) of  F(s)=P[X1+...Xd &lt;=s]  (only for AEP-Df) or F^(-1)(alpha) (only for AEP-VaR). For any issues concerning the precision of these estimates,  we refer to the paper.</p>
<p class="Stile3"><strong>Error Handling</strong></p>
<p class="Stile3">No error handling has been implemented in this version of AEP, so be extremely careful when inserting inputs. This means: if you are asked a character, simply type that character and enter. Any number has to be typed in decimal format, i.e. 12.3456 or 1.234e3.<br />
</p>
<p class="Stile3"><strong>Requirements</strong></p>
<p class="Stile3">AEP runs on any Windows, MAC or Linux machine. Just double-click the version with the name corresponding to your operating system (i.e. AEP-DfMac and AEP-VaRMac identify the MAC-friendly versions of the softwares) and execute the program. The linux files have to be executed by  typing in a terminal &quot;./AEP-DfLin&quot; or &quot;./AEPVaRLin&quot; in the directory containing the file.</p>
<p class="Stile3"><strong>Licence</strong></p>
<p class="Stile3">The softwares in this version are intended only for the personal use of the editors and the referees of <em>Bernoulli</em>. We kindly request not to copy or distribute them. </p>
<p class="Stile3"><strong>Support</strong></p>
<p class="Stile3">The following two examples show the correct use of the softwares.</p>
<p class="Stile3"><strong>AEP-Df</strong> </p>
<p><em>Please enter the dimension (&lt;=5):</em> 3</p>
<p><em>Please enter the distribution of the marginals. For a Pareto distribution, enter &quot;p&quot;. Lognormal = &quot;l&quot;. Exponential = &quot;e&quot;. Uniform = &quot;u&quot;,  Frechet  = &quot;f&quot;:<br />
  </em></p>
<p><em>First marginal?</em> p<br />
  </p>
<p><em>Pareto: F(x) = 1-(1+x/b)^(-a). Please set a (&gt;0):</em> 0.9<br />
  </p>
<p><em>Please set b (&gt;0):</em> 1</p>
<p><em>Second marginal?</em> u</p>
<p><br />
  <em>Uniform: F(x) = max(x,0)-max(x+1,0). <br />
  Third marginal?</em> e<br />
  </p>
<p><em>Exponential: F(x) = 1-exp(-a*x). Please set a:</em> 2</p>
<p><em>Available copulas are Independence (enter &quot;i&quot;), Clayton (&quot;c&quot;), Frank (&quot;f&quot;), Gumbel (&quot;g&quot;), Joe (&quot;j&quot;), Ali-Mikhail-Haq (&quot;a&quot;), reversed Clayton (&quot;q&quot;), reversed Frank (&quot;w&quot;), reversed Gumbel (&quot;e&quot;), reversed Joe (&quot;r&quot;), reversed Ali-Mikhail-Haq (&quot;t&quot;). Please enter the desired copula. f<br />
  </em></p>
<p><em>Frank: Please set theta &gt;0:</em> 2</p>
<p><em>Please enter the threshold s: </em>10</p>
<p><em>Number of iterations?</em> 12</p>
<p><em> estimate P1  = 0.80059999898251 Extrapolated estimate P*1 = 1.06746666531 <br />
estimate P2  = 0.85367972500268 Extrapolated estimate P*2 = 0.8713729670094 <br />
estimate P3  = 0.86856862359423 Extrapolated estimate P*3 = 0.87353158979142<br />
estimate P4  = 0.86922669678187 Extrapolated estimate P*4 = 0.86944605451108<br />
estimate P5  = 0.8698980927183  Extrapolated estimate P*5 = 0.87012189136378<br />
estimate P6  = 0.86996399391454 Extrapolated estimate P*6 = 0.86998596097995<br />
estimate P7  = 0.8700083023897  Extrapolated estimate P*7 = 0.87002307188142<br />
estimate P8  = 0.87001182256128 Extrapolated estimate P*8 = 0.87001299595181<br />
estimate P9  = 0.87001454229651 Extrapolated estimate P*9 = 0.87001544887493<br />
estimate P10 = 0.87001477104056 Extrapolated estimate P*10 = 0.87001484728857<br />
estimate P11 = 0.87001494175006 Extrapolated estimate P*11 = 0.87001499865323<br />
estimate P12 = 0.87001495590837 Extrapolated estimate P*12 = 0.87001496062781 logout</em></p>
<p class="Stile3"><strong>AEP-VaR</strong></p>
<p> <em>Please enter the dimension (&lt;=5):</em> 2</p>
<p><em>Please enter the distribution of the marginals. For a Pareto distribution, enter &quot;p&quot;. Lognormal = &quot;l&quot;. Exponential = &quot;e&quot;. Uniform = &quot;u&quot;, Frechet  = &quot;f&quot;:<br />
  First marginal?</em> e</p>
<p><em>Exponential: F(x) = 1-exp(-a*x). Please set a (&gt;0): </em>2</p>
<p><em>Second marginal?</em> p</p>
<p><em>Pareto: F(x) = 1-(1+x/b)^(-a). Please set a (&gt;0):</em> 2 <br />
  </p>
<p><em>Please set b (&gt;0):</em> 2<br />
  </p>
<p><em>Available copulas are Independence (enter &quot;i&quot;), Clayton (&quot;c&quot;), Frank (&quot;f&quot;), Gumbel (&quot;g&quot;), Joe (&quot;j&quot;), Ali-Mikhail-Haq (&quot;a&quot;), reversed Clayton (&quot;q&quot;), reversed Frank (&quot;w&quot;), reversed Gumbel (&quot;e&quot;), reversed Joe (&quot;r&quot;), reversed Ali-Mikhail-Haq (&quot;t&quot;). Please enter the desired copula:</em> i</p>
<p><em>Please enter the threshold alpha:</em> 0.99</p>
<p><em>Please enter the maximal number of iterations the VaR search can employ to evaluate P_n(s):</em> 12<br />
  <br />
  <em>final VaR-estimate: 18.5202logout</em></p>
<p class="Stile3">&nbsp;</p>
</body>
</html>
